(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)o=s[u],r[o]&&d.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var p=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0bba":function(e,t,a){"use strict";var n=a("26f2"),r=a.n(n);r.a},"106f":function(e,t,a){},"26f2":function(e,t,a){},4308:function(e,t,a){"use strict";var n=a("d9bc"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},i=[],o=(a("5c0b"),a("2877")),s={},l=Object(o["a"])(s,r,i,!1,null,null,null),c=l.exports,p=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-app",[a("v-navigation-drawer",{attrs:{fixed:"",clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-expansion-panel",{staticClass:"v-selection-panel",model:{value:e.expand,callback:function(t){e.expand=t},expression:"expand"}},[a("v-expansion-panel-content",[a("div",{staticClass:"header ml-4",attrs:{slot:"header",title:"Click to close / open map layers"},slot:"header"},[e._v("Map Layers:")]),a("v-layer-control",{attrs:{layers:e.layers,map:e.map}})],1)],1),a("v-list",{attrs:{dense:""}},e._l(e.items,function(t){return a("v-list-tile",{key:t.text,on:{click:function(a){e.$router.push({name:t.route})}}},[a("v-list-tile-action",[a("v-icon",{attrs:{disabled:!t.public}},[e._v(e._s(t.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",{class:{"grey--text":!t.public}},[e._v("\n              "+e._s(t.text)+" "),t.public?e._e():a("v-icon",{attrs:{small:""}},[e._v("attach_money")])],1)],1)],1)}))],1),a("v-toolbar",{attrs:{dense:"",fixed:"","clipped-left":"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-icon",{staticClass:"mx-3"},[e._v("fab fa-youtube")]),a("v-toolbar-title",{staticClass:"mr-5 align-center"},[a("span",{staticClass:"title"},[e._v("Sea-level and subsidence monitor")])]),a("v-spacer")],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":"","pa-0":""}},[a("v-layout",[a("v-flex",[a("v-mapbox",{ref:"map",attrs:{"access-token":"pk.eyJ1IjoiYWRyaWFhbnNlIiwiYSI6ImNqYXd4YnZ5dzc4dzMycW53b3lhMXZ6eDkifQ.bbG-PKhVspm-Mkh9zhO8hQ","map-style":"mapbox://styles/mapbox/satellite-streets-v10",id:"map"}},[a("v-map-layers")],1)],1)],1)],1)],1)],1)],1)},d=[],f=new n["default"],m=(a("bf40"),a("d1e7"),a("ac6d"),a("ce5b")),y=a.n(m),g=a("bd47"),v=a.n(g),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},h=[],_=(a("6762"),a("2fdb"),a("ac6a"),[{id:"sshtrend",layerType:"gee",name:"SSH Trend",icon:"images/sshtrend.png",opacity:100,active:!0,info:'<i>source: <a href="https://podaac.jpl.nasa.gov/" target="_blank">NASA poodaac</a></i>',legend:{colors:["#151d44","#156c72","#7eb390","#fdf5f4","#db8d77","#9c3060","#340d35"],range:"-0.03 [m] +0.03"},serviceUrl:"http://hydro-engine.appspot.com/get_sea_surface_height_trend_image",data:[]},{id:"12mileszone",layerType:"mapbox",name:"12 miles zone",icon:"images/12miles.png",opacity:100,active:!1,info:'<i>source: <a href="http://marineregions.org/sources.php#marbound" target="_blank">marineregions.org</a></i>',legend:{colors:["#404040","#c8c8c8"],range:"0 1"},data:[{id:"12miles",type:"fill",source:{type:"vector",url:"mapbox://adriaanse.9f199gkd"},"source-layer":"12_miles_zone-d5cbg5",paint:{"fill-color":"rgba(64, 64, 64, 0.5)","fill-outline-color":"rgba(200, 200, 200, 1.0)"}}]},{id:"24mileszone",layerType:"mapbox",name:"24 miles zone",icon:"images/24miles.png",opacity:100,active:!1,info:'<i>source: <a href="http://marineregions.org/sources.php#marbound" target="_blank">marineregions.org</a></i>',legend:{colors:["#404040","#c8c8c8"],labels:["zone","boundary"]},data:[{id:"24miles",type:"fill",source:{type:"vector",url:"mapbox://adriaanse.7z3o0vxj"},"source-layer":"24_miles_zone-9d814s",paint:{"fill-color":"rgba(64, 64, 64, 0.5)","fill-outline-color":"rgba(200, 200, 200, 1.0)"}}]},{id:"eezone",layerType:"mapbox",name:"Economic zone",icon:"images/eez.png",opacity:100,active:!1,info:'<i>source: <a href="http://marineregions.org/sources.php#marbound" target="_blank">marineregions.org</a></i>',legend:{colors:["#ff0000"],labels:["EEZ boundary"]},data:[{id:"eez",type:"line",source:{type:"vector",url:"mapbox://adriaanse.di3mnmez"},"source-layer":"EEZ_boundary-8t9rn6",paint:{"line-color":"rgba(256, 0, 0, 1.0)"}}]},{id:"gaugingstations",layerType:"geojson",name:"Gauging stations",icon:"images/marker-40.png",opacity:100,active:!0,info:'<i>source: <a href="http://www.psmsl.org" target="_blank">PSMSL</a></i>',data:[{id:"gauging",type:"symbol",source:{type:"geojson",data:"https://storage.googleapis.com/slr/psmsl/locations.geojson"},layout:{"icon-image":"marker","icon-size":1.5}}]}]),x={name:"v-map-layers",data:function(){return{map:null}},methods:{deferredMountedTo:function(e){_.forEach(function(t){f.$emit("add-layer",t),t.layerType&&(t.layerType.includes("mapbox")||t.layerType.includes("geojson"))&&t.data.forEach(function(a){a.active=t.active,a.opacity=t.opacity,e.addLayer(a)})})}}},k=x,w=(a("4308"),Object(o["a"])(k,b,h,!1,null,null,null)),j=w.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panel",{staticClass:"panel"},[a("draggable",{staticClass:"draggable",attrs:{options:{handle:".v-icon"}},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.reverseLayers,callback:function(t){e.reverseLayers=t},expression:"reverseLayers"}},e._l(e.reverseLayers,function(t){return a("v-expansion-panel-content",{key:t.id,attrs:{focusable:""}},[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("v-list",{attrs:{dense:""}},[a("v-list-tile",{attrs:{title:"Click to open / close layer properties"}},[a("v-icon",{staticClass:"draghandle mr-2",attrs:{title:"Drag to change map layer drawing order"},on:{click:function(e){e.stopPropagation()}}},[e._v("dehaze")]),a("v-list-tile-action",{on:{click:function(e){e.stopPropagation()}}},[a("v-switch",{attrs:{title:"Click to change layer visibility"},model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"layer.active"}})],1),a("v-list-tile-title",[e._v(e._s(t.name))]),t.icon?a("v-list-tile-avatar",{},[a("img",{attrs:{src:t.icon}})]):e._e()],1)],1)],1),a("div",{staticClass:"ma-0 pl-5 pr-5"},[t.opacity?a("v-slider",{attrs:{"hide-details":"",title:"Change layer opacity",min:1,max:100},model:{value:t.opacity,callback:function(a){e.$set(t,"opacity",a)},expression:"layer.opacity"}}):e._e(),t.id?e._t(t.id):e._e(),t.legend?a("div",[t.legend.colors&&t.legend.range?[t.legend.colors?a("div",{staticClass:"color-ramp mt-1",style:e.colorRamp(t.legend)}):e._e(),a("div",{staticClass:"range-ramp"},[e._v(e._s(t.legend.range))])]:e._e(),t.legend.colors&&t.legend.labels?e._l(t.legend.colors.length,function(n){return a("div",{key:n,staticClass:"color-label"},[a("span",{staticClass:"colored-span",style:"background-color: "+t.legend.colors[n-1]}),a("label",{staticClass:"ma-1"},[e._v(e._s(t.legend.labels[n-1]))])])}):e._e()],2):e._e(),t.info?a("div",{staticClass:"pb-2 pt-2",domProps:{innerHTML:e._s(t.info)}}):e._e()],2)])}))],1)},z=[],T=(a("a481"),a("1516")),L=a.n(T),O={name:"layer-control",props:{layers:{type:Array,required:!0},map:{type:Object}},data:function(){return{expand:0,drag:!1}},computed:{reverseLayers:{get:function(){return this.layers.slice().reverse()},set:function(e){this.layers=e.slice().reverse()}}},watch:{layers:{handler:function(e){this.toggleLayers(),this.sortLayers(),f.$emit("select-layers",this.layers)},deep:!0}},mounted:function(){},methods:{sortLayers:function(){if(this.map&&this.layers){var e=this;this.layers.forEach(function(t){t.data.forEach(function(t){e.map.moveLayer(t.id)})})}},toggleLayers:function(){if(this.map&&this.layers){var e=this;this.layers.forEach(function(t){t.data.forEach(function(a){t.active?(e.map.setLayoutProperty(a.id,"visibility","visible"),e.setOpacity(a,t.opacity)):e.map.setLayoutProperty(a.id,"visibility","none")})})}},setOpacity:function(e,t){if(e&&t){var a=Math.max(.01*t,.01),n="".concat(e.type,"-opacity").replace("symbol","icon");this.map.setPaintProperty(e.id,n,a)}},colorRamp:function(e){if(e&&e.colors)return"background: linear-gradient(to right, "+e.colors.join()+");"}},components:{draggable:L.a}},S=O,P=(a("0bba"),Object(o["a"])(S,C,z,!1,null,"431cc4dd",null)),E=P.exports;n["default"].use(y.a),n["default"].use(v.a);var M={name:"home",data:function(){return{map:null,layers:[],drawer:!0,expand:0,items:[{icon:"trending_up",text:"Trends",public:!0,route:"trends"},{icon:"subscriptions",text:"Animations",public:!0,route:"animations"},{icon:"featured_play_list",text:"Reports",public:!1,route:"reports"},{icon:"alarm",text:"Signals",public:!1,route:"signals"},{icon:"business",text:"Cost estimates",public:!1,route:"cost"}]}},mounted:function(){var e=this;this.map=this.$refs.map.map,this.getMarker("marker"),f.$on("add-layer",function(t){e.layers.push(t),"gee"===t.layerType&&e.getGeeTileSet(t)})},methods:{getGeeTileSet:function(e){var t=this;fetch(e.serviceUrl).then(function(a){return a.json().then(function(a){var n={id:e.id,type:"raster",source:{type:"raster",tiles:[a.url],tileSize:256}};e.data=[n],t.map.addLayer(n)})})},getMarker:function(e){var t=this;this.map.loadImage("images/".concat(e,".png"),function(a,n){if(a)throw a;t.map.addImage(e,n)})}},components:{"v-map-layers":j,"v-layer-control":E}},$=M,I=(a("cccb"),Object(o["a"])($,u,d,!1,null,null,null)),A=I.exports;n["default"].use(p["a"]);var G=new p["a"]({routes:[{path:"/",name:"home",component:A},{path:"/trends",name:"trends",component:A},{path:"/animations",name:"animations",component:A}]}),R=a("2f62");n["default"].use(R["a"]);var Y=new R["a"].Store({state:{},mutations:{},actions:{}});n["default"].config.productionTip=!1,new n["default"]({router:G,store:Y,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("106f"),r=a.n(n);r.a},b861:function(e,t,a){},cccb:function(e,t,a){"use strict";var n=a("b861"),r=a.n(n);r.a},d9bc:function(e,t,a){}});
//# sourceMappingURL=app.fc98e069.js.map